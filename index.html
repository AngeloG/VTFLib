<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>VTFLib: VTFLib - Copyright &copy; 2005-2007 Neil Jedrzejewski &amp; Ryan Gregg</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VTFLib
   </div>
   <div id="projectbrief">A C and C++ API that, with a few simple functions, can open and save .vtf and .vmt files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">VTFLib - Copyright &copy; 2005-2007 Neil Jedrzejewski &amp; Ryan Gregg </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<h2><a class="anchor" id="intro_sec"></a>
What is VTFLib?</h2>
<p>VTFLib is an open source programming library which allows developers to add support for VMT and VTF files used by the material system of Valve Software's Source game engine. It functions independent of Steam allowing third party apps to use these file types without the need for Steam to be running.</p>
<p>VTFLib offers a simply API which allows you to read or write VMT and VTF files through a few simple functions. It also takes care of a lot of formatting and validation of the files.</p>
<h2><a class="anchor" id="whatcando_sec"></a>
What can VTFLib do?</h2>
<p>VTFLib comprises of two modules, VMTFile and VTFFile.</p>
<p>VMTFile allows you to read and write VMT files using a hierarchical node based system similar to how one might navigate an XML file. The system uses a series of VMTNode objects which have a name and data type. These can be set, read or parented as needed by your application.</p>
<p>You can load an existing VMT file, navigate and modify it or create a new file from scratch. VMTFile will handle indentation and formatting of the file output.</p>
<p>The VTFFile module allows you to read and write binary image data in VTF files. Internally, the module uses RGBA8888 (32-bit) data for images and requires either your own functions or a 3rd party library to read and write more common image formats. We use and have tested it with DevIL.</p>
<p>It supports single frame, multiple frame and cube map files and can read and write compressed and uncompressed formats and allows access to individual frames, faces and MIP levels. It contains functions to automatically create MIP levels for you using a number of different filter types, can automatically generate sphere maps and even create Normal and DuDv maps from RGB and greyscale source images.</p>
<h1><a class="anchor" id="started"></a>
Getting Started with VTFLib</h1>
<h2><a class="anchor" id="settingup_sec"></a>
Setting up your project for VTFLib</h2>
<p>If you have used third party libraries in your projects before, you probably know how to do the following, but if not here is a brief explanation of how to use VTFLib with your project. The following example is for Visual Studio C++ .NET 2003 but setting up for Visual C++ 6.0 is pretty much the same. We are assuming you have downloaded the binary distribution or have downloaded and compiled the source distribution of VTFLib to your liking.</p>
<p>Within your projects setting, make sure under Linker Options, that you include the VTFLib.lib file and include the path to it in the library search paths. Alternatively you can use a pragma directive. Next, add <a class="el" href="VTFLib_8h.html" title="VTFLib main header. ">VTFLib.h</a> in your source files where you will be wanting to access VTFLib functions.</p>
<p>All being well you should be up and ready to use VTFLib. Don't forget to make sure you place VTFLib.dll in a location where your application can find it.</p>
<h1><a class="anchor" id="workingwith"></a>
Working with textures using VTFFile</h1>
<h2><a class="anchor" id="vtfformat"></a>
The VTF file format</h2>
<p>The VTF file format is not particularly complicated. Specific details can be found within the VTFLib source code however for convenience here is a short overview.</p>
<p>VTF files are essentially bitmap files containing the data which makes up an image. The format is not dissimilar to Microsoft's DDS format, just organised a little different and with a different header.</p>
<p>The files header is 64 bytes and contains a magic-number to identify the file as being VTF format, information on the width and height of the image and flags to indicate certain properties. It also contains information on the format of the bitmap data for the main image, low-res version, MIP levels, reflectivity and bump scale.</p>
<p>Following the header is the data which makes up the low-res version of the image. This low-res image is used to get colour values when you hit a surface covered in the image with a weapon.</p>
<p>After the low-res data comes the main data compressed in the chosen format. The data is stored smallest MIP level first interpolated with data for any additional faces (in the case of cube maps) or frames for animated textures. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
